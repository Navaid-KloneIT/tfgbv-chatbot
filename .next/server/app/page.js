(()=>{var e={};e.id=931,e.ids=[931],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},4300:e=>{"use strict";e.exports=require("buffer")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},4456:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var a=s(7096),n=s(6132),r=s(7284),i=s.n(r),l=s(2564),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4779)),"C:\\xampp\\htdocs\\tfgbv-chatbot\\app\\page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,5345)),"C:\\xampp\\htdocs\\tfgbv-chatbot\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\xampp\\htdocs\\tfgbv-chatbot\\app\\page.tsx"],m="/page",p={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},193:(e,t,s)=>{Promise.resolve().then(s.bind(s,5361))},5361:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var a=s(784),n=s(9885),r=s(3285),i=s(65),l=s(3341),o=s(7031),c=s(5833),d=s(9594),m=s(6624),p=s(6053),u=s(6426),x=s(2446),h=s(2970);let __WEBPACK_DEFAULT_EXPORT__=()=>{let[e,t]=(0,n.useState)("support"),[s,g]=(0,n.useState)([{role:"assistant",content:"السلام علیکم / आदाब / Hello! I am here to provide you with confidential support and information about Technology-Facilitated Gender-Based Violence (TFGBV). You can ask me about:\n\n• What is TFGBV?\n• How to stay safe online\n• Where to report abuse\n• Your legal rights\n• Support services available\n\nHow can I help you today?",timestamp:new Date}]),[b,y]=(0,n.useState)(null),[f,j]=(0,n.useState)(""),[v,N]=(0,n.useState)(!1),[w,_]=(0,n.useState)("en"),[T,P]=(0,n.useState)(!1),S=(0,n.useRef)(null),[C,A]=(0,n.useState)(!1),k=(0,n.useRef)(null);(0,n.useEffect)(()=>{A(!0)},[]);let scrollToBottom=()=>{S.current?.scrollIntoView({behavior:"smooth"})};(0,n.useEffect)(()=>{scrollToBottom()},[s]);let handleModeChange=e=>{t(e),g([]),y(null),j(""),"support"===e?g([{role:"assistant",content:"You are now in Support Chat mode. I am here to provide confidential support and information about TFGBV. How can I help?",timestamp:new Date}]):g([{role:"assistant",content:"You are now in Content Analyzer mode. Please enter a headline, paste your text, or upload a Word document for review based on Uks's feminist and media-sensitive guidelines.",timestamp:new Date}])},z={en:[{text:"What is TFGBV?",icon:r.Z},{text:"How to stay safe online",icon:i.Z},{text:"Where to report abuse",icon:l.Z},{text:"My legal rights",icon:o.Z}],ur:[{text:"TFGBV کیا ہے؟",icon:r.Z},{text:"آن لائن محفوظ کیسے رہیں",icon:i.Z},{text:"بدسلوکی کی رپورٹ کہاں کریں",icon:l.Z},{text:"میرے قانونی حقوق",icon:o.Z}],sd:[{text:"TFGBV ڇا آهي؟",icon:r.Z},{text:"آن لائن محفوظ ڪيئن رهجو",icon:i.Z},{text:"بدسلوڪي جي رپورٽ ڪٿي ڪجو",icon:l.Z},{text:"منهنجا قانوني حق",icon:o.Z}]},handleSendMessage=async()=>{if(!f.trim()||v)return;y(null);let t={role:"user",content:f,timestamp:new Date};g(e=>[...e,t]),j(""),N(!0);try{let a=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[...s,t],language:w,mode:e})});if(!a.ok)throw Error("API response was not ok.");let n=await a.json();"analyzer"===e&&n.analysis?(y(n),g(e=>[...e,{role:"assistant",content:"Here is the analysis of your text. See the results displayed below the chat.",timestamp:new Date}])):g(e=>[...e,{role:"assistant",content:n.message,timestamp:new Date}])}catch(e){console.error("Failed to send message:",e),g(e=>[...e,{role:"assistant",content:"Sorry, I encountered an error. Please check your connection or API quota and try again.",timestamp:new Date}])}N(!1)},handleQuickAction=e=>{j(e)},getTranslation=e=>{let t={en:{title:"TFGBV Support Chatbot",subtitle:"Confidential Support & Information",emergency:"Emergency Contacts",quickActions:"Quick Actions",typeMessage:"Type your message...",language:"Language",disclaimer:"This chatbot provides information only. For immediate danger, please call emergency services.",confidential:"Your conversation is private and confidential",analyzerTitle:"Content Analyzer",analyzerSubtitle:"Review content based on Uks's guidelines",typePrompt:"Enter a headline or paste text..."},ur:{title:"TFGBV سپورٹ چیٹ بوٹ",subtitle:"خفیہ معاونت اور معلومات",emergency:"ہنگامی رابطے",quickActions:"فوری اقدامات",typeMessage:"اپنا پیغام لکھیں...",language:"زبان",disclaimer:"یہ چیٹ بوٹ صرف معلومات فراہم کرتا ہے۔ فوری خطرے کی صورت میں، براہ کرم ہنگامی خدمات کو کال کریں۔",confidential:"آپ کی گفتگو نجی اور خفیہ ہے",analyzerTitle:"مواد کا تجزیہ کار",analyzerSubtitle:"یوکس کے رہنما اصولوں پر مبنی مواد کا جائزہ لیں",typePrompt:"ایک سرخی درج کریں یا متن چسپاں کریں..."},sd:{title:"TFGBV سپورٽ چيٽ بوٽ",subtitle:"رازداري سپورٽ ۽ معلومات",emergency:"ايمرجنسي رابطا",quickActions:"تڪڙا قدم",typeMessage:"پنهنجو پيغام لکو...",language:"ٻولي",disclaimer:"هي چيٽ بوٽ صرف معلومات فراهم ڪري ٿو. فوري خطري جي صورت ۾، مهرباني ڪري ايمرجنسي سروسز کي ڪال ڪريو.",confidential:"توهان جي ڳالهه ٻولهه خانگي ۽ رازداري آهي",analyzerTitle:"مواد جو تجزيو ڪندڙ",analyzerSubtitle:"Uks جي ھدايتن جي بنياد تي مواد جو جائزو وٺو",typePrompt:"ھڪڙي عنوان داخل ڪريو يا ٽيڪسٽ پيسٽ ڪريو..."}};return t[w][e]||t.en[e]};return(0,a.jsxs)("div",{className:"flex h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50",children:[a.jsx("div",{className:`${T?"translate-x-0":"-translate-x-full"} md:translate-x-0 fixed md:relative w-80 bg-white shadow-xl transition-transform duration-300 ease-in-out z-20 h-full overflow-y-auto`,children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(i.Z,{className:"text-purple-600",size:28}),a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Resources"})]}),a.jsx("button",{onClick:()=>P(!1),className:"md:hidden",children:a.jsx(c.Z,{size:24})})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(d.Z,{className:"inline mr-2",size:16}),getTranslation("language")]}),(0,a.jsxs)("select",{value:w,onChange:e=>_(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[a.jsx("option",{value:"en",children:"English"}),a.jsx("option",{value:"ur",children:"اردو (Urdu)"}),a.jsx("option",{value:"sd",children:"سنڌي (Sindhi)"})]})]}),"support"===e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[a.jsx(l.Z,{className:"mr-2 text-red-600",size:20}),getTranslation("emergency")]}),a.jsx("div",{className:"space-y-2",children:({en:[{name:"National Emergency Helpline",number:"1099"},{name:"Rozan Helpline",number:"0800-22-227"},{name:"Madadgar Helpline",number:"1098"},{name:"Women Development Helpline",number:"1043"}],ur:[{name:"قومی ہنگامی ہیلپ لائن",number:"1099"},{name:"روزن ہیلپ لائن",number:"0800-22-227"},{name:"مددگار ہیلپ لائن",number:"1098"},{name:"خواتین کی ترقی ہیلپ لائن",number:"1043"}],sd:[{name:"قومي ايمرجنسي هيلپ لائين",number:"1099"},{name:"روزن هيلپ لائين",number:"0800-22-227"},{name:"مددگار هيلپ لائين",number:"1098"},{name:"عورتن جي ترقي هيلپ لائين",number:"1043"}]})[w].map((e,t)=>(0,a.jsxs)("div",{className:"bg-red-50 p-3 rounded-lg border border-red-200",children:[a.jsx("p",{className:"text-sm font-medium text-gray-800",children:e.name}),a.jsx("p",{className:"text-lg font-bold text-red-600",children:e.number})]},t))})]}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:getTranslation("quickActions")}),a.jsx("div",{className:"space-y-2",children:z[w].map((e,t)=>{let s=e.icon;return(0,a.jsxs)("button",{onClick:()=>handleQuickAction(e.text),className:"w-full text-left px-4 py-3 bg-purple-50 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3",children:[a.jsx(s,{size:18,className:"text-purple-600"}),a.jsx("span",{className:"text-sm text-gray-700",children:e.text})]},t)})})]})]}):(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"About Content Analyzer"}),(0,a.jsxs)("p",{className:"text-xs text-gray-600",children:["This tool helps journalists and content creators by:",a.jsx("br",{}),"• Generating content from headlines.",a.jsx("br",{}),"• Revising text based on feminist and gender-sensitive principles.",a.jsx("br",{}),"• Highlighting grammatical and stylistic issues."]})]}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-6",children:a.jsx("p",{className:"text-xs text-gray-600",children:getTranslation("disclaimer")})})]})}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:[a.jsx("div",{className:"bg-white shadow-md px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>P(!0),className:"md:hidden",children:a.jsx(m.Z,{size:24})}),"support"===e?a.jsx(o.Z,{className:"text-purple-600",size:32}):a.jsx(p.Z,{className:"text-blue-600",size:32}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:getTranslation("support"===e?"title":"analyzerTitle")}),a.jsx("p",{className:"text-sm text-gray-600",children:getTranslation("support"===e?"subtitle":"analyzerSubtitle")})]})]}),(0,a.jsxs)("div",{className:"flex items-center p-1 bg-gray-200 rounded-lg",children:[a.jsx("button",{onClick:()=>handleModeChange("support"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${"support"===e?"bg-purple-600 text-white":"text-gray-600"}`,children:"Support"}),a.jsx("button",{onClick:()=>handleModeChange("analyzer"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${"analyzer"===e?"bg-blue-600 text-white":"text-gray-600"}`,children:"Analyzer"})]})]})}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[s.map((e,t)=>a.jsx("div",{className:`flex ${"user"===e.role?"justify-end":"justify-start"}`,children:(0,a.jsxs)("div",{className:`max-w-2xl px-4 py-3 rounded-lg shadow-md ${"user"===e.role?"bg-purple-600 text-white":"bg-white text-gray-800"}`,children:[a.jsx("p",{className:"whitespace-pre-wrap",children:e.content}),C&&a.jsx("p",{className:"text-xs mt-2 opacity-70",children:e.timestamp.toLocaleTimeString()})]})},t)),v&&a.jsx("div",{className:"flex justify-start",children:a.jsx("div",{className:"bg-white shadow-md px-4 py-3 rounded-lg",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce"}),a.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),a.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})}),b&&(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg border border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Analysis Complete"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-lg text-blue-600 mb-2",children:"Revised Content"}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-md whitespace-pre-wrap text-gray-700",children:b.revisedText})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-lg text-blue-600 mb-2",children:"Issues and Suggestions"}),b.analysis.length>0?a.jsx("div",{className:"space-y-4",children:b.analysis.map((e,t)=>(0,a.jsxs)("div",{className:"border-l-4 p-4 rounded-r-lg",style:{borderColor:"Tone"===e.issueType?"#FBBF24":"Gender-Sensitivity"===e.issueType?"#F472B6":"#60A5FA"},children:[(0,a.jsxs)("p",{className:"font-semibold text-gray-800",children:["Original Snippet: ",(0,a.jsxs)("span",{className:"font-normal italic text-red-600",children:['"',e.originalSnippet,'"']})]}),(0,a.jsxs)("p",{className:"text-sm mt-2",children:[a.jsx("strong",{className:"text-gray-700",children:"Issue Type:"})," ",e.issueType]}),(0,a.jsxs)("p",{className:"text-sm mt-1",children:[a.jsx("strong",{className:"text-gray-700",children:"Explanation:"})," ",e.explanation]}),(0,a.jsxs)("p",{className:"text-sm mt-1",children:[a.jsx("strong",{className:"text-gray-700",children:"Suggestion:"})," ",e.suggestion]})]},t))}):a.jsx("p",{className:"text-gray-600",children:"No specific issues found. The text aligns well with the guidelines."})]})]})]}),a.jsx("div",{ref:S})]}),a.jsx("div",{className:"bg-white border-t px-6 py-4",children:(0,a.jsxs)("div",{className:"flex space-x-4",children:[a.jsx("input",{type:"text",value:f,onChange:e=>j(e.target.value),onKeyPress:e=>"Enter"===e.key&&handleSendMessage(),placeholder:getTranslation("support"===e?"typeMessage":"typePrompt"),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:v}),"analyzer"===e&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("input",{type:"file",ref:k,onChange:e=>{let t=e.target.files[0];if(t&&"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===t.type){let e=new FileReader;e.onload=e=>{let s=e.target.result;h.extractRawText({arrayBuffer:s}).then(e=>{j(e.value),g(e=>[...e,{role:"assistant",content:`Document "${t.name}" uploaded successfully. Press 'Send' to analyze.`,timestamp:new Date}])}).catch(e=>{console.error("Error reading docx file:",e),g(e=>[...e,{role:"assistant",content:"Sorry, there was an error reading the document.",timestamp:new Date}])})},e.readAsArrayBuffer(t)}else g(e=>[...e,{role:"assistant",content:"Please upload a valid Word document (.docx).",timestamp:new Date}]);e.target.value=null},accept:".docx",style:{display:"none"}}),(0,a.jsxs)("button",{onClick:()=>k.current.click(),disabled:v,className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:bg-gray-100 transition-colors flex items-center space-x-2",children:[a.jsx(u.Z,{size:20}),a.jsx("span",{className:"hidden sm:inline",children:"Upload"})]})]}),(0,a.jsxs)("button",{onClick:handleSendMessage,disabled:v||!f.trim(),className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:[a.jsx(x.Z,{size:20}),a.jsx("span",{className:"hidden sm:inline",children:"Send"})]})]})})]})]})}},4779:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Home});var a=s(4656),n=s(5153);let r=(0,n.createProxy)(String.raw`C:\xampp\htdocs\tfgbv-chatbot\app\components\TFGBVChatbot.jsx`),{__esModule:i,$$typeof:l}=r,o=r.default;function Home(){return a.jsx(o,{})}},7481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var a=s(8531);let __WEBPACK_DEFAULT_EXPORT__=e=>{let t=(0,a.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:t+""}]}}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[472,120,147,755],()=>__webpack_exec__(4456));module.exports=s})();